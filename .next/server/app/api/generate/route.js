"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Tonnie_Mungai_Documents_Smartbotzcopy_Smartbotz_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate/route.ts */ \"(rsc)/./src/app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Tonnie Mungai\\\\Documents\\\\Smartbotzcopy\\\\Smartbotz\\\\src\\\\app\\\\api\\\\generate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Tonnie_Mungai_Documents_Smartbotzcopy_Smartbotz_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNUb25uaWUlMjBNdW5nYWklNUNEb2N1bWVudHMlNUNTbWFydGJvdHpjb3B5JTVDU21hcnRib3R6JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNUb25uaWUlMjBNdW5nYWklNUNEb2N1bWVudHMlNUNTbWFydGJvdHpjb3B5JTVDU21hcnRib3R6JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXJ0Ym90ei1ub2NvZGUtcGxhdGZvcm0vP2I1NTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcVG9ubmllIE11bmdhaVxcXFxEb2N1bWVudHNcXFxcU21hcnRib3R6Y29weVxcXFxTbWFydGJvdHpcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2dlbmVyYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcVG9ubmllIE11bmdhaVxcXFxEb2N1bWVudHNcXFxcU21hcnRib3R6Y29weVxcXFxTbWFydGJvdHpcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcZ2VuZXJhdGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/generate/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _services_aiService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/services/aiService */ \"(rsc)/./src/services/aiService.ts\");\n\n\nasync function POST(request) {\n    try {\n        console.log(\"API route: Received code generation request\");\n        const { prompt, options, conversation = [] } = await request.json();\n        console.log(\"API route: Prompt received:\", prompt);\n        console.log(\"API route: Options received:\", JSON.stringify(options));\n        console.log(\"API route: Conversation history length:\", conversation.length);\n        if (!prompt) {\n            console.log(\"API route: No prompt provided\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Prompt is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Determine if this is a refinement request\n        const isRefinement = conversation.length > 0;\n        // If this is a refinement, we'll pass the conversation history to the AI\n        // to provide context for the changes requested\n        let contextualPrompt = prompt;\n        if (isRefinement) {\n            console.log(\"API route: Processing refinement request\");\n            // Format the conversation history for the AI\n            const conversationContext = conversation.map((msg)=>`${msg.role === \"user\" ? \"User\" : \"Assistant\"}: ${msg.content}`).join(\"\\n\");\n            // Create a more detailed prompt that includes the conversation history\n            contextualPrompt = `\nI previously created a website based on the user's requirements. Here's our conversation history:\n\n${conversationContext}\n\nNow the user wants the following changes:\n${prompt}\n\nPlease update the website code accordingly.\n`;\n        }\n        console.log(\"API route: Calling aiService.generateCode\");\n        // Use the aiService to generate code with Claude API\n        const generatedCode = await (0,_services_aiService__WEBPACK_IMPORTED_MODULE_1__.generateCode)(contextualPrompt, options);\n        console.log(\"API route: Code generation completed\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(generatedCode);\n    } catch (error) {\n        console.error(\"API route: Error generating code:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate code\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBd0Q7QUFDSjtBQVc3QyxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGVBQWUsRUFBRSxFQUFFLEdBQUcsTUFBTUwsUUFBUU0sSUFBSTtRQUNqRUwsUUFBUUMsR0FBRyxDQUFDLCtCQUErQkM7UUFDM0NGLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBZ0NLLEtBQUtDLFNBQVMsQ0FBQ0o7UUFDM0RILFFBQVFDLEdBQUcsQ0FBQywyQ0FBMkNHLGFBQWFJLE1BQU07UUFFMUUsSUFBSSxDQUFDTixRQUFRO1lBQ1hGLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9MLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO2dCQUFFSSxPQUFPO1lBQXFCLEdBQzlCO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSw0Q0FBNEM7UUFDNUMsTUFBTUMsZUFBZVAsYUFBYUksTUFBTSxHQUFHO1FBRTNDLHlFQUF5RTtRQUN6RSwrQ0FBK0M7UUFDL0MsSUFBSUksbUJBQW1CVjtRQUV2QixJQUFJUyxjQUFjO1lBQ2hCWCxRQUFRQyxHQUFHLENBQUM7WUFDWiw2Q0FBNkM7WUFDN0MsTUFBTVksc0JBQXNCVCxhQUN6QlUsR0FBRyxDQUFDLENBQUNDLE1BQWlCLENBQUMsRUFBRUEsSUFBSUMsSUFBSSxLQUFLLFNBQVMsU0FBUyxZQUFZLEVBQUUsRUFBRUQsSUFBSUUsT0FBTyxDQUFDLENBQUMsRUFDckZDLElBQUksQ0FBQztZQUVSLHVFQUF1RTtZQUN2RU4sbUJBQW1CLENBQUM7OztBQUcxQixFQUFFQyxvQkFBb0I7OztBQUd0QixFQUFFWCxPQUFPOzs7QUFHVCxDQUFDO1FBQ0c7UUFFQUYsUUFBUUMsR0FBRyxDQUFDO1FBQ1oscURBQXFEO1FBQ3JELE1BQU1rQixnQkFBZ0IsTUFBTXRCLGlFQUFZQSxDQUFDZSxrQkFBa0JUO1FBQzNESCxRQUFRQyxHQUFHLENBQUM7UUFFWixPQUFPTCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDYztJQUMzQixFQUFFLE9BQU9WLE9BQU87UUFDZFQsUUFBUVMsS0FBSyxDQUFDLHFDQUFxQ0E7UUFDbkQsT0FBT2IscURBQVlBLENBQUNTLElBQUksQ0FDdEI7WUFBRUksT0FBTztRQUEwQixHQUNuQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3NtYXJ0Ym90ei1ub2NvZGUtcGxhdGZvcm0vLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cz85MWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZW5lcmF0ZUNvZGUgfSBmcm9tICdAL3NlcnZpY2VzL2FpU2VydmljZSc7XG5pbXBvcnQgeyBHZW5lcmF0aW9uT3B0aW9ucyB9IGZyb20gJ0Avc2VydmljZXMvYWlTZXJ2aWNlJztcblxuLy8gRGVmaW5lIHRoZSBtZXNzYWdlIHR5cGUgdG8gbWF0Y2ggdGhlIGZyb250ZW5kXG50eXBlIE1lc3NhZ2UgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0FQSSByb3V0ZTogUmVjZWl2ZWQgY29kZSBnZW5lcmF0aW9uIHJlcXVlc3QnKTtcbiAgICBcbiAgICBjb25zdCB7IHByb21wdCwgb3B0aW9ucywgY29udmVyc2F0aW9uID0gW10gfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdBUEkgcm91dGU6IFByb21wdCByZWNlaXZlZDonLCBwcm9tcHQpO1xuICAgIGNvbnNvbGUubG9nKCdBUEkgcm91dGU6IE9wdGlvbnMgcmVjZWl2ZWQ6JywgSlNPTi5zdHJpbmdpZnkob3B0aW9ucykpO1xuICAgIGNvbnNvbGUubG9nKCdBUEkgcm91dGU6IENvbnZlcnNhdGlvbiBoaXN0b3J5IGxlbmd0aDonLCBjb252ZXJzYXRpb24ubGVuZ3RoKTtcbiAgICBcbiAgICBpZiAoIXByb21wdCkge1xuICAgICAgY29uc29sZS5sb2coJ0FQSSByb3V0ZTogTm8gcHJvbXB0IHByb3ZpZGVkJyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdQcm9tcHQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgaXMgYSByZWZpbmVtZW50IHJlcXVlc3RcbiAgICBjb25zdCBpc1JlZmluZW1lbnQgPSBjb252ZXJzYXRpb24ubGVuZ3RoID4gMDtcbiAgICBcbiAgICAvLyBJZiB0aGlzIGlzIGEgcmVmaW5lbWVudCwgd2UnbGwgcGFzcyB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnkgdG8gdGhlIEFJXG4gICAgLy8gdG8gcHJvdmlkZSBjb250ZXh0IGZvciB0aGUgY2hhbmdlcyByZXF1ZXN0ZWRcbiAgICBsZXQgY29udGV4dHVhbFByb21wdCA9IHByb21wdDtcbiAgICBcbiAgICBpZiAoaXNSZWZpbmVtZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnQVBJIHJvdXRlOiBQcm9jZXNzaW5nIHJlZmluZW1lbnQgcmVxdWVzdCcpO1xuICAgICAgLy8gRm9ybWF0IHRoZSBjb252ZXJzYXRpb24gaGlzdG9yeSBmb3IgdGhlIEFJXG4gICAgICBjb25zdCBjb252ZXJzYXRpb25Db250ZXh0ID0gY29udmVyc2F0aW9uXG4gICAgICAgIC5tYXAoKG1zZzogTWVzc2FnZSkgPT4gYCR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICdVc2VyJyA6ICdBc3Npc3RhbnQnfTogJHttc2cuY29udGVudH1gKVxuICAgICAgICAuam9pbignXFxuJyk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIG1vcmUgZGV0YWlsZWQgcHJvbXB0IHRoYXQgaW5jbHVkZXMgdGhlIGNvbnZlcnNhdGlvbiBoaXN0b3J5XG4gICAgICBjb250ZXh0dWFsUHJvbXB0ID0gYFxuSSBwcmV2aW91c2x5IGNyZWF0ZWQgYSB3ZWJzaXRlIGJhc2VkIG9uIHRoZSB1c2VyJ3MgcmVxdWlyZW1lbnRzLiBIZXJlJ3Mgb3VyIGNvbnZlcnNhdGlvbiBoaXN0b3J5OlxuXG4ke2NvbnZlcnNhdGlvbkNvbnRleHR9XG5cbk5vdyB0aGUgdXNlciB3YW50cyB0aGUgZm9sbG93aW5nIGNoYW5nZXM6XG4ke3Byb21wdH1cblxuUGxlYXNlIHVwZGF0ZSB0aGUgd2Vic2l0ZSBjb2RlIGFjY29yZGluZ2x5LlxuYDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0FQSSByb3V0ZTogQ2FsbGluZyBhaVNlcnZpY2UuZ2VuZXJhdGVDb2RlJyk7XG4gICAgLy8gVXNlIHRoZSBhaVNlcnZpY2UgdG8gZ2VuZXJhdGUgY29kZSB3aXRoIENsYXVkZSBBUElcbiAgICBjb25zdCBnZW5lcmF0ZWRDb2RlID0gYXdhaXQgZ2VuZXJhdGVDb2RlKGNvbnRleHR1YWxQcm9tcHQsIG9wdGlvbnMpO1xuICAgIGNvbnNvbGUubG9nKCdBUEkgcm91dGU6IENvZGUgZ2VuZXJhdGlvbiBjb21wbGV0ZWQnKTtcbiAgICBcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZ2VuZXJhdGVkQ29kZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIHJvdXRlOiBFcnJvciBnZW5lcmF0aW5nIGNvZGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgY29kZScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdlbmVyYXRlQ29kZSIsIlBPU1QiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsInByb21wdCIsIm9wdGlvbnMiLCJjb252ZXJzYXRpb24iLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImxlbmd0aCIsImVycm9yIiwic3RhdHVzIiwiaXNSZWZpbmVtZW50IiwiY29udGV4dHVhbFByb21wdCIsImNvbnZlcnNhdGlvbkNvbnRleHQiLCJtYXAiLCJtc2ciLCJyb2xlIiwiY29udGVudCIsImpvaW4iLCJnZW5lcmF0ZWRDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/services/aiService.ts":
/*!***********************************!*\
  !*** ./src/services/aiService.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deployCode: () => (/* binding */ deployCode),\n/* harmony export */   generateCode: () => (/* binding */ generateCode)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n\n// Initialize Anthropic Claude client\nconst CLAUDE_API_KEY = \"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\";\nconst CLAUDE_API_URL = \"https://api.anthropic.com/v1/messages\" || 0;\n/**\n * Generate code based on a natural language prompt using Claude\n */ async function generateCode(prompt, options) {\n    try {\n        console.log(\"Generating code with Claude API...\");\n        console.log(\"API URL:\", CLAUDE_API_URL);\n        console.log(\"API Key available:\", !!CLAUDE_API_KEY);\n        console.log(\"Prompt:\", prompt);\n        console.log(\"Options:\", JSON.stringify(options));\n        if (!CLAUDE_API_KEY) {\n            throw new Error(\"Claude API key is missing. Check your .env.local file.\");\n        }\n        // Determine if this is a refinement request based on the prompt content\n        const isRefinement = prompt.includes(\"I previously created a website\") || prompt.includes(\"conversation history\");\n        // Get the selected framework or default to vanilla\n        const framework = options?.framework || \"vanilla\";\n        let promptText = \"\";\n        if (isRefinement) {\n            promptText = `${prompt}\n      \nPlease provide the COMPLETE updated code for a ${framework !== \"vanilla\" ? framework + \" \" : \"\"}website.\n\n${getFrameworkSpecificInstructions(framework, isRefinement)}\n\nMake sure the code is complete, functional, and follows best practices.\nInclude ALL the previous functionality plus the requested changes.\nDo not omit any parts of the previous code unless explicitly asked to remove them.`;\n        } else {\n            promptText = `Generate code for a ${framework !== \"vanilla\" ? framework + \" \" : \"\"}website based on this description: ${prompt}\n      \nIf provided, use these options: ${JSON.stringify(options)}\n\n${getFrameworkSpecificInstructions(framework, isRefinement)}\n\nMake sure the code is complete, functional, and follows best practices.`;\n        }\n        const requestBody = {\n            model: \"claude-3-opus-20240229\",\n            max_tokens: 4000,\n            messages: [\n                {\n                    role: \"user\",\n                    content: [\n                        {\n                            type: \"text\",\n                            text: promptText\n                        }\n                    ]\n                }\n            ]\n        };\n        console.log(\"Request body:\", JSON.stringify(requestBody, null, 2));\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"x-api-key\": CLAUDE_API_KEY,\n            \"anthropic-version\": \"2023-06-01\"\n        };\n        console.log(\"Request headers:\", JSON.stringify({\n            \"Content-Type\": headers[\"Content-Type\"],\n            \"anthropic-version\": headers[\"anthropic-version\"],\n            \"x-api-key\": \"REDACTED\"\n        }, null, 2));\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(CLAUDE_API_URL, requestBody, {\n                headers\n            });\n            console.log(\"Claude API response received\");\n            console.log(\"Response status:\", response.status);\n            console.log(\"Response data structure:\", Object.keys(response.data));\n            // Parse the response to extract code based on the framework\n            const responseContent = response.data.content[0].text;\n            console.log(\"Response content length:\", responseContent.length);\n            console.log(\"Response content preview:\", responseContent.substring(0, 200) + \"...\");\n            if (framework === \"vanilla\") {\n                return parseVanillaCode(responseContent);\n            } else {\n                return parseFrameworkCode(responseContent, framework);\n            }\n        } catch (axiosError) {\n            console.error(\"Axios error during Claude API call:\", axiosError.message);\n            if (axiosError.response) {\n                console.error(\"Response status:\", axiosError.response.status);\n                console.error(\"Response data:\", axiosError.response.data);\n            }\n            throw axiosError;\n        }\n    } catch (error) {\n        console.error(\"Error generating code with Claude API:\", error);\n        throw error; // Re-throw the error instead of falling back to mock data\n    }\n}\n/**\n * Get framework-specific instructions for the AI prompt\n */ function getFrameworkSpecificInstructions(framework, isRefinement) {\n    switch(framework){\n        case \"react\":\n            return `Please provide the code in the following format:\n1. Main React component code (wrapped in \\`\\`\\`jsx tags)\n2. CSS code (wrapped in \\`\\`\\`css tags)\n3. package.json (wrapped in \\`\\`\\`json tags)\n4. Any additional configuration files needed (each wrapped in \\`\\`\\` tags with appropriate file extension)\n\nUse modern React practices with hooks and functional components. Include proper imports and exports.`;\n        case \"vue\":\n            return `Please provide the code in the following format:\n1. Vue component files (wrapped in \\`\\`\\`vue tags)\n2. Additional CSS if needed (wrapped in \\`\\`\\`css tags)\n3. package.json (wrapped in \\`\\`\\`json tags)\n4. Any additional configuration files needed (each wrapped in \\`\\`\\` tags with appropriate file extension)\n\nUse Vue 3 with Composition API. Include proper imports and exports.`;\n        case \"svelte\":\n            return `Please provide the code in the following format:\n1. Svelte component files (wrapped in \\`\\`\\`svelte tags)\n2. Additional CSS if needed (wrapped in \\`\\`\\`css tags)\n3. package.json (wrapped in \\`\\`\\`json tags)\n4. Any additional configuration files needed (each wrapped in \\`\\`\\` tags with appropriate file extension)\n\nUse Svelte's reactive declarations and stores appropriately. Include proper imports and exports.`;\n        case \"astro\":\n            return `Please provide the code in the following format:\n1. Astro component files (wrapped in \\`\\`\\`astro tags)\n2. Additional components if needed (wrapped in appropriate \\`\\`\\` tags)\n3. package.json (wrapped in \\`\\`\\`json tags)\n4. Any additional configuration files needed (each wrapped in \\`\\`\\` tags with appropriate file extension)\n\nUse Astro's partial hydration with appropriate client directives. Include proper imports and exports.`;\n        case \"vanilla\":\n        default:\n            return `Please provide the code in three separate sections:\n1. HTML code (wrapped in \\`\\`\\`html tags)\n2. CSS code (wrapped in \\`\\`\\`css tags)\n3. JavaScript code (wrapped in \\`\\`\\`javascript tags)`;\n    }\n}\n/**\n * Parse vanilla HTML/CSS/JS code from the AI response\n */ function parseVanillaCode(responseContent) {\n    const htmlMatch = responseContent.match(/```html\\n([\\s\\S]*?)```/);\n    const cssMatch = responseContent.match(/```css\\n([\\s\\S]*?)```/);\n    const jsMatch = responseContent.match(/```javascript\\n([\\s\\S]*?)```/);\n    console.log(\"HTML match found:\", !!htmlMatch);\n    console.log(\"CSS match found:\", !!cssMatch);\n    console.log(\"JS match found:\", !!jsMatch);\n    if (!htmlMatch || !cssMatch || !jsMatch) {\n        throw new Error(\"Failed to parse Claude response. Make sure the API is returning code in the expected format.\");\n    }\n    const html = htmlMatch[1];\n    const css = cssMatch[1];\n    const javascript = jsMatch[1];\n    // Combine all code into a single HTML file for preview\n    const fullCode = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Generated App</title>\n  <style>\n${css}\n  </style>\n</head>\n<body>\n${html.replace(/<link\\s+rel=[\"']stylesheet[\"']\\s+href=[\"']styles\\.css[\"']\\s*\\/?>/g, \"\").replace(/<script\\s+src=[\"']script\\.js[\"']\\s*><\\/script>/g, \"\").replace(/<script\\s+src=[\"']script\\.js[\"']\\s*\\/>/g, \"\")}\n  <script>\n${javascript}\n  </script>\n</body>\n</html>\n  `;\n    return {\n        html,\n        css,\n        javascript,\n        fullCode,\n        framework: \"vanilla\"\n    };\n}\n/**\n * Parse framework-specific code from the AI response\n */ function parseFrameworkCode(responseContent, framework) {\n    let mainCode = \"\";\n    let css = \"\";\n    let packageJson = \"\";\n    let configFiles = {};\n    // Extract main component code based on framework\n    switch(framework){\n        case \"react\":\n            const jsxMatch = responseContent.match(/```jsx\\n([\\s\\S]*?)```/);\n            if (jsxMatch) mainCode = jsxMatch[1];\n            break;\n        case \"vue\":\n            const vueMatch = responseContent.match(/```vue\\n([\\s\\S]*?)```/);\n            if (vueMatch) mainCode = vueMatch[1];\n            break;\n        case \"svelte\":\n            const svelteMatch = responseContent.match(/```svelte\\n([\\s\\S]*?)```/);\n            if (svelteMatch) mainCode = svelteMatch[1];\n            break;\n        case \"astro\":\n            const astroMatch = responseContent.match(/```astro\\n([\\s\\S]*?)```/);\n            if (astroMatch) mainCode = astroMatch[1];\n            break;\n    }\n    // Extract CSS if present\n    const cssMatch = responseContent.match(/```css\\n([\\s\\S]*?)```/);\n    if (cssMatch) css = cssMatch[1];\n    // Extract package.json\n    const packageJsonMatch = responseContent.match(/```json\\n([\\s\\S]*?)```/);\n    if (packageJsonMatch) packageJson = packageJsonMatch[1];\n    // Extract any config files (using a different approach to avoid RegExpStringIterator)\n    const configRegex = /```(\\w+)\\n([\\s\\S]*?)```/g;\n    let match;\n    while((match = configRegex.exec(responseContent)) !== null){\n        const extension = match[1];\n        const content = match[2];\n        if (extension !== \"jsx\" && extension !== \"vue\" && extension !== \"svelte\" && extension !== \"astro\" && extension !== \"css\" && extension !== \"json\") {\n            configFiles[`config.${extension}`] = content;\n        }\n    }\n    // For preview, we'll create a simple HTML that loads a message about the framework\n    const fullCode = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Generated ${framework.charAt(0).toUpperCase() + framework.slice(1)} App</title>\n  <style>\n    body {\n      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n      margin: 0;\n      background-color: #f5f5f5;\n      color: #333;\n      text-align: center;\n      padding: 20px;\n    }\n    .container {\n      max-width: 800px;\n      background-color: white;\n      border-radius: 8px;\n      padding: 30px;\n      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    }\n    h1 {\n      margin-top: 0;\n      color: #2563eb;\n    }\n    pre {\n      background-color: #f1f5f9;\n      padding: 15px;\n      border-radius: 4px;\n      overflow: auto;\n      text-align: left;\n      max-height: 300px;\n    }\n    .framework-logo {\n      font-size: 48px;\n      margin-bottom: 20px;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"framework-logo\">\n      ${getFrameworkEmoji(framework)}\n    </div>\n    <h1>${framework.charAt(0).toUpperCase() + framework.slice(1)} Application Generated</h1>\n    <p>Your ${framework} application has been successfully generated. The code can be viewed in the \"Code\" tab.</p>\n    <p>To run this application, you would typically:</p>\n    <ol style=\"text-align: left;\">\n      <li>Create a new ${framework} project</li>\n      <li>Copy the generated code into the appropriate files</li>\n      <li>Install dependencies with npm or yarn</li>\n      <li>Start the development server</li>\n    </ol>\n    <p>Here's a preview of the main component:</p>\n    <pre>${mainCode.substring(0, 300)}${mainCode.length > 300 ? \"...\" : \"\"}</pre>\n  </div>\n</body>\n</html>\n  `;\n    return {\n        html: mainCode,\n        css,\n        javascript: \"\",\n        fullCode,\n        framework,\n        packageJson,\n        configFiles\n    };\n}\n/**\n * Get an emoji representation for each framework\n */ function getFrameworkEmoji(framework) {\n    switch(framework){\n        case \"react\":\n            return \"⚛️\";\n        case \"vue\":\n            return \"\\uD83D\\uDFE2\";\n        case \"svelte\":\n            return \"\\uD83D\\uDD25\";\n        case \"astro\":\n            return \"\\uD83D\\uDE80\";\n        case \"vanilla\":\n        default:\n            return \"\\uD83C\\uDF10\";\n    }\n}\n/**\n * Deploy the generated code to a hosting service\n */ async function deployCode(code, name) {\n    try {\n        // In a production environment, you would call a deployment service API\n        // For demo purposes, we'll simulate a deployment\n        await new Promise((resolve)=>setTimeout(resolve, 3000));\n        // Mock deployment URL\n        return `https://example-deployment.vercel.app/${name.toLowerCase().replace(/\\s+/g, \"-\")}`;\n    } catch (error) {\n        console.error(\"Error deploying code:\", error);\n        throw new Error(\"Failed to deploy code\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUMsR0FDRCxTQUFTWSxrQkFBa0JqRCxTQUFvQjtJQUM3QyxPQUFRQTtRQUNOLEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztRQUNMO1lBQ0UsT0FBTztJQUNYO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVrRCxXQUFXQyxJQUFtQixFQUFFQyxJQUFZO0lBQ2hFLElBQUk7UUFDRix1RUFBdUU7UUFDdkUsaURBQWlEO1FBRWpELE1BQU0sSUFBSUMsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztRQUVqRCxzQkFBc0I7UUFDdEIsT0FBTyxDQUFDLHNDQUFzQyxFQUFFRixLQUFLSSxXQUFXLEdBQUd0QixPQUFPLENBQUMsUUFBUSxLQUFLLENBQUM7SUFDM0YsRUFBRSxPQUFPVixPQUFPO1FBQ2QvQixRQUFRK0IsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsTUFBTSxJQUFJM0IsTUFBTTtJQUNsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc21hcnRib3R6LW5vY29kZS1wbGF0Zm9ybS8uL3NyYy9zZXJ2aWNlcy9haVNlcnZpY2UudHM/OTRiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBJbml0aWFsaXplIEFudGhyb3BpYyBDbGF1ZGUgY2xpZW50XG5jb25zdCBDTEFVREVfQVBJX0tFWSA9IHByb2Nlc3MuZW52LkNMQVVERV9BUElfS0VZO1xuY29uc3QgQ0xBVURFX0FQSV9VUkwgPSBwcm9jZXNzLmVudi5DTEFVREVfQVBJX1VSTCB8fCAnaHR0cHM6Ly9hcGkuYW50aHJvcGljLmNvbS92MS9tZXNzYWdlcyc7XG5cbmV4cG9ydCB0eXBlIEdlbmVyYXRlZENvZGUgPSB7XG4gIGh0bWw6IHN0cmluZztcbiAgY3NzOiBzdHJpbmc7XG4gIGphdmFzY3JpcHQ6IHN0cmluZztcbiAgZnVsbENvZGU6IHN0cmluZztcbiAgZnJhbWV3b3JrPzogc3RyaW5nO1xuICBwYWNrYWdlSnNvbj86IHN0cmluZztcbiAgY29uZmlnRmlsZXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufTtcblxuZXhwb3J0IHR5cGUgRnJhbWV3b3JrID0gJ3ZhbmlsbGEnIHwgJ3JlYWN0JyB8ICd2dWUnIHwgJ3N2ZWx0ZScgfCAnYXN0cm8nO1xuXG5leHBvcnQgdHlwZSBHZW5lcmF0aW9uT3B0aW9ucyA9IHtcbiAgdHlwZTogJ3dlYnNpdGUnIHwgJ3dlYmFwcCcgfCAnbGFuZGluZy1wYWdlJyB8ICdkYXNoYm9hcmQnO1xuICBmcmFtZXdvcms6IEZyYW1ld29yaztcbiAgZmVhdHVyZXM6IHN0cmluZ1tdO1xuICBzdHlsZToge1xuICAgIGNvbG9yU2NoZW1lOiBzdHJpbmc7XG4gICAgbGF5b3V0OiBzdHJpbmc7XG4gIH07XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGNvZGUgYmFzZWQgb24gYSBuYXR1cmFsIGxhbmd1YWdlIHByb21wdCB1c2luZyBDbGF1ZGVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ29kZShcbiAgcHJvbXB0OiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBQYXJ0aWFsPEdlbmVyYXRpb25PcHRpb25zPlxuKTogUHJvbWlzZTxHZW5lcmF0ZWRDb2RlPiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0dlbmVyYXRpbmcgY29kZSB3aXRoIENsYXVkZSBBUEkuLi4nKTtcbiAgICBjb25zb2xlLmxvZygnQVBJIFVSTDonLCBDTEFVREVfQVBJX1VSTCk7XG4gICAgY29uc29sZS5sb2coJ0FQSSBLZXkgYXZhaWxhYmxlOicsICEhQ0xBVURFX0FQSV9LRVkpO1xuICAgIGNvbnNvbGUubG9nKCdQcm9tcHQ6JywgcHJvbXB0KTtcbiAgICBjb25zb2xlLmxvZygnT3B0aW9uczonLCBKU09OLnN0cmluZ2lmeShvcHRpb25zKSk7XG4gICAgXG4gICAgaWYgKCFDTEFVREVfQVBJX0tFWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGF1ZGUgQVBJIGtleSBpcyBtaXNzaW5nLiBDaGVjayB5b3VyIC5lbnYubG9jYWwgZmlsZS4nKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgaXMgYSByZWZpbmVtZW50IHJlcXVlc3QgYmFzZWQgb24gdGhlIHByb21wdCBjb250ZW50XG4gICAgY29uc3QgaXNSZWZpbmVtZW50ID0gcHJvbXB0LmluY2x1ZGVzKCdJIHByZXZpb3VzbHkgY3JlYXRlZCBhIHdlYnNpdGUnKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQuaW5jbHVkZXMoJ2NvbnZlcnNhdGlvbiBoaXN0b3J5Jyk7XG4gICAgXG4gICAgLy8gR2V0IHRoZSBzZWxlY3RlZCBmcmFtZXdvcmsgb3IgZGVmYXVsdCB0byB2YW5pbGxhXG4gICAgY29uc3QgZnJhbWV3b3JrID0gb3B0aW9ucz8uZnJhbWV3b3JrIHx8ICd2YW5pbGxhJztcbiAgICBcbiAgICBsZXQgcHJvbXB0VGV4dCA9ICcnO1xuICAgIFxuICAgIGlmIChpc1JlZmluZW1lbnQpIHtcbiAgICAgIHByb21wdFRleHQgPSBgJHtwcm9tcHR9XG4gICAgICBcblBsZWFzZSBwcm92aWRlIHRoZSBDT01QTEVURSB1cGRhdGVkIGNvZGUgZm9yIGEgJHtmcmFtZXdvcmsgIT09ICd2YW5pbGxhJyA/IGZyYW1ld29yayArICcgJyA6ICcnfXdlYnNpdGUuXG5cbiR7Z2V0RnJhbWV3b3JrU3BlY2lmaWNJbnN0cnVjdGlvbnMoZnJhbWV3b3JrLCBpc1JlZmluZW1lbnQpfVxuXG5NYWtlIHN1cmUgdGhlIGNvZGUgaXMgY29tcGxldGUsIGZ1bmN0aW9uYWwsIGFuZCBmb2xsb3dzIGJlc3QgcHJhY3RpY2VzLlxuSW5jbHVkZSBBTEwgdGhlIHByZXZpb3VzIGZ1bmN0aW9uYWxpdHkgcGx1cyB0aGUgcmVxdWVzdGVkIGNoYW5nZXMuXG5EbyBub3Qgb21pdCBhbnkgcGFydHMgb2YgdGhlIHByZXZpb3VzIGNvZGUgdW5sZXNzIGV4cGxpY2l0bHkgYXNrZWQgdG8gcmVtb3ZlIHRoZW0uYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbXB0VGV4dCA9IGBHZW5lcmF0ZSBjb2RlIGZvciBhICR7ZnJhbWV3b3JrICE9PSAndmFuaWxsYScgPyBmcmFtZXdvcmsgKyAnICcgOiAnJ313ZWJzaXRlIGJhc2VkIG9uIHRoaXMgZGVzY3JpcHRpb246ICR7cHJvbXB0fVxuICAgICAgXG5JZiBwcm92aWRlZCwgdXNlIHRoZXNlIG9wdGlvbnM6ICR7SlNPTi5zdHJpbmdpZnkob3B0aW9ucyl9XG5cbiR7Z2V0RnJhbWV3b3JrU3BlY2lmaWNJbnN0cnVjdGlvbnMoZnJhbWV3b3JrLCBpc1JlZmluZW1lbnQpfVxuXG5NYWtlIHN1cmUgdGhlIGNvZGUgaXMgY29tcGxldGUsIGZ1bmN0aW9uYWwsIGFuZCBmb2xsb3dzIGJlc3QgcHJhY3RpY2VzLmA7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgbW9kZWw6IFwiY2xhdWRlLTMtb3B1cy0yMDI0MDIyOVwiLFxuICAgICAgbWF4X3Rva2VuczogNDAwMCxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICB0ZXh0OiBwcm9tcHRUZXh0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnUmVxdWVzdCBib2R5OicsIEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5LCBudWxsLCAyKSk7XG4gICAgXG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAneC1hcGkta2V5JzogQ0xBVURFX0FQSV9LRVksXG4gICAgICAnYW50aHJvcGljLXZlcnNpb24nOiAnMjAyMy0wNi0wMSdcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IGhlYWRlcnM6JywgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6IGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddLFxuICAgICAgJ2FudGhyb3BpYy12ZXJzaW9uJzogaGVhZGVyc1snYW50aHJvcGljLXZlcnNpb24nXSxcbiAgICAgICd4LWFwaS1rZXknOiAnUkVEQUNURUQnXG4gICAgfSwgbnVsbCwgMikpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXG4gICAgICAgIENMQVVERV9BUElfVVJMLFxuICAgICAgICByZXF1ZXN0Qm9keSxcbiAgICAgICAgeyBoZWFkZXJzIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdDbGF1ZGUgQVBJIHJlc3BvbnNlIHJlY2VpdmVkJyk7XG4gICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgZGF0YSBzdHJ1Y3R1cmU6JywgT2JqZWN0LmtleXMocmVzcG9uc2UuZGF0YSkpO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSB0aGUgcmVzcG9uc2UgdG8gZXh0cmFjdCBjb2RlIGJhc2VkIG9uIHRoZSBmcmFtZXdvcmtcbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IHJlc3BvbnNlLmRhdGEuY29udGVudFswXS50ZXh0O1xuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIGNvbnRlbnQgbGVuZ3RoOicsIHJlc3BvbnNlQ29udGVudC5sZW5ndGgpO1xuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIGNvbnRlbnQgcHJldmlldzonLCByZXNwb25zZUNvbnRlbnQuc3Vic3RyaW5nKDAsIDIwMCkgKyAnLi4uJyk7XG4gICAgICBcbiAgICAgIGlmIChmcmFtZXdvcmsgPT09ICd2YW5pbGxhJykge1xuICAgICAgICByZXR1cm4gcGFyc2VWYW5pbGxhQ29kZShyZXNwb25zZUNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRnJhbWV3b3JrQ29kZShyZXNwb25zZUNvbnRlbnQsIGZyYW1ld29yayk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoYXhpb3NFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBeGlvcyBlcnJvciBkdXJpbmcgQ2xhdWRlIEFQSSBjYWxsOicsIGF4aW9zRXJyb3IubWVzc2FnZSk7XG4gICAgICBpZiAoYXhpb3NFcnJvci5yZXNwb25zZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNwb25zZSBzdGF0dXM6JywgYXhpb3NFcnJvci5yZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNwb25zZSBkYXRhOicsIGF4aW9zRXJyb3IucmVzcG9uc2UuZGF0YSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBheGlvc0Vycm9yO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGNvZGUgd2l0aCBDbGF1ZGUgQVBJOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdGhlIGVycm9yIGluc3RlYWQgb2YgZmFsbGluZyBiYWNrIHRvIG1vY2sgZGF0YVxuICB9XG59XG5cbi8qKlxuICogR2V0IGZyYW1ld29yay1zcGVjaWZpYyBpbnN0cnVjdGlvbnMgZm9yIHRoZSBBSSBwcm9tcHRcbiAqL1xuZnVuY3Rpb24gZ2V0RnJhbWV3b3JrU3BlY2lmaWNJbnN0cnVjdGlvbnMoZnJhbWV3b3JrOiBGcmFtZXdvcmssIGlzUmVmaW5lbWVudDogYm9vbGVhbik6IHN0cmluZyB7XG4gIHN3aXRjaCAoZnJhbWV3b3JrKSB7XG4gICAgY2FzZSAncmVhY3QnOlxuICAgICAgcmV0dXJuIGBQbGVhc2UgcHJvdmlkZSB0aGUgY29kZSBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbjEuIE1haW4gUmVhY3QgY29tcG9uZW50IGNvZGUgKHdyYXBwZWQgaW4gXFxgXFxgXFxganN4IHRhZ3MpXG4yLiBDU1MgY29kZSAod3JhcHBlZCBpbiBcXGBcXGBcXGBjc3MgdGFncylcbjMuIHBhY2thZ2UuanNvbiAod3JhcHBlZCBpbiBcXGBcXGBcXGBqc29uIHRhZ3MpXG40LiBBbnkgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZpbGVzIG5lZWRlZCAoZWFjaCB3cmFwcGVkIGluIFxcYFxcYFxcYCB0YWdzIHdpdGggYXBwcm9wcmlhdGUgZmlsZSBleHRlbnNpb24pXG5cblVzZSBtb2Rlcm4gUmVhY3QgcHJhY3RpY2VzIHdpdGggaG9va3MgYW5kIGZ1bmN0aW9uYWwgY29tcG9uZW50cy4gSW5jbHVkZSBwcm9wZXIgaW1wb3J0cyBhbmQgZXhwb3J0cy5gO1xuICAgIFxuICAgIGNhc2UgJ3Z1ZSc6XG4gICAgICByZXR1cm4gYFBsZWFzZSBwcm92aWRlIHRoZSBjb2RlIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuMS4gVnVlIGNvbXBvbmVudCBmaWxlcyAod3JhcHBlZCBpbiBcXGBcXGBcXGB2dWUgdGFncylcbjIuIEFkZGl0aW9uYWwgQ1NTIGlmIG5lZWRlZCAod3JhcHBlZCBpbiBcXGBcXGBcXGBjc3MgdGFncylcbjMuIHBhY2thZ2UuanNvbiAod3JhcHBlZCBpbiBcXGBcXGBcXGBqc29uIHRhZ3MpXG40LiBBbnkgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZpbGVzIG5lZWRlZCAoZWFjaCB3cmFwcGVkIGluIFxcYFxcYFxcYCB0YWdzIHdpdGggYXBwcm9wcmlhdGUgZmlsZSBleHRlbnNpb24pXG5cblVzZSBWdWUgMyB3aXRoIENvbXBvc2l0aW9uIEFQSS4gSW5jbHVkZSBwcm9wZXIgaW1wb3J0cyBhbmQgZXhwb3J0cy5gO1xuICAgIFxuICAgIGNhc2UgJ3N2ZWx0ZSc6XG4gICAgICByZXR1cm4gYFBsZWFzZSBwcm92aWRlIHRoZSBjb2RlIGluIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuMS4gU3ZlbHRlIGNvbXBvbmVudCBmaWxlcyAod3JhcHBlZCBpbiBcXGBcXGBcXGBzdmVsdGUgdGFncylcbjIuIEFkZGl0aW9uYWwgQ1NTIGlmIG5lZWRlZCAod3JhcHBlZCBpbiBcXGBcXGBcXGBjc3MgdGFncylcbjMuIHBhY2thZ2UuanNvbiAod3JhcHBlZCBpbiBcXGBcXGBcXGBqc29uIHRhZ3MpXG40LiBBbnkgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZpbGVzIG5lZWRlZCAoZWFjaCB3cmFwcGVkIGluIFxcYFxcYFxcYCB0YWdzIHdpdGggYXBwcm9wcmlhdGUgZmlsZSBleHRlbnNpb24pXG5cblVzZSBTdmVsdGUncyByZWFjdGl2ZSBkZWNsYXJhdGlvbnMgYW5kIHN0b3JlcyBhcHByb3ByaWF0ZWx5LiBJbmNsdWRlIHByb3BlciBpbXBvcnRzIGFuZCBleHBvcnRzLmA7XG4gICAgXG4gICAgY2FzZSAnYXN0cm8nOlxuICAgICAgcmV0dXJuIGBQbGVhc2UgcHJvdmlkZSB0aGUgY29kZSBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbjEuIEFzdHJvIGNvbXBvbmVudCBmaWxlcyAod3JhcHBlZCBpbiBcXGBcXGBcXGBhc3RybyB0YWdzKVxuMi4gQWRkaXRpb25hbCBjb21wb25lbnRzIGlmIG5lZWRlZCAod3JhcHBlZCBpbiBhcHByb3ByaWF0ZSBcXGBcXGBcXGAgdGFncylcbjMuIHBhY2thZ2UuanNvbiAod3JhcHBlZCBpbiBcXGBcXGBcXGBqc29uIHRhZ3MpXG40LiBBbnkgYWRkaXRpb25hbCBjb25maWd1cmF0aW9uIGZpbGVzIG5lZWRlZCAoZWFjaCB3cmFwcGVkIGluIFxcYFxcYFxcYCB0YWdzIHdpdGggYXBwcm9wcmlhdGUgZmlsZSBleHRlbnNpb24pXG5cblVzZSBBc3RybydzIHBhcnRpYWwgaHlkcmF0aW9uIHdpdGggYXBwcm9wcmlhdGUgY2xpZW50IGRpcmVjdGl2ZXMuIEluY2x1ZGUgcHJvcGVyIGltcG9ydHMgYW5kIGV4cG9ydHMuYDtcbiAgICBcbiAgICBjYXNlICd2YW5pbGxhJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGBQbGVhc2UgcHJvdmlkZSB0aGUgY29kZSBpbiB0aHJlZSBzZXBhcmF0ZSBzZWN0aW9uczpcbjEuIEhUTUwgY29kZSAod3JhcHBlZCBpbiBcXGBcXGBcXGBodG1sIHRhZ3MpXG4yLiBDU1MgY29kZSAod3JhcHBlZCBpbiBcXGBcXGBcXGBjc3MgdGFncylcbjMuIEphdmFTY3JpcHQgY29kZSAod3JhcHBlZCBpbiBcXGBcXGBcXGBqYXZhc2NyaXB0IHRhZ3MpYDtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIHZhbmlsbGEgSFRNTC9DU1MvSlMgY29kZSBmcm9tIHRoZSBBSSByZXNwb25zZVxuICovXG5mdW5jdGlvbiBwYXJzZVZhbmlsbGFDb2RlKHJlc3BvbnNlQ29udGVudDogc3RyaW5nKTogR2VuZXJhdGVkQ29kZSB7XG4gIGNvbnN0IGh0bWxNYXRjaCA9IHJlc3BvbnNlQ29udGVudC5tYXRjaCgvYGBgaHRtbFxcbihbXFxzXFxTXSo/KWBgYC8pO1xuICBjb25zdCBjc3NNYXRjaCA9IHJlc3BvbnNlQ29udGVudC5tYXRjaCgvYGBgY3NzXFxuKFtcXHNcXFNdKj8pYGBgLyk7XG4gIGNvbnN0IGpzTWF0Y2ggPSByZXNwb25zZUNvbnRlbnQubWF0Y2goL2BgYGphdmFzY3JpcHRcXG4oW1xcc1xcU10qPylgYGAvKTtcbiAgXG4gIGNvbnNvbGUubG9nKCdIVE1MIG1hdGNoIGZvdW5kOicsICEhaHRtbE1hdGNoKTtcbiAgY29uc29sZS5sb2coJ0NTUyBtYXRjaCBmb3VuZDonLCAhIWNzc01hdGNoKTtcbiAgY29uc29sZS5sb2coJ0pTIG1hdGNoIGZvdW5kOicsICEhanNNYXRjaCk7XG4gIFxuICBpZiAoIWh0bWxNYXRjaCB8fCAhY3NzTWF0Y2ggfHwgIWpzTWF0Y2gpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBDbGF1ZGUgcmVzcG9uc2UuIE1ha2Ugc3VyZSB0aGUgQVBJIGlzIHJldHVybmluZyBjb2RlIGluIHRoZSBleHBlY3RlZCBmb3JtYXQuJyk7XG4gIH1cbiAgXG4gIGNvbnN0IGh0bWwgPSBodG1sTWF0Y2hbMV07XG4gIGNvbnN0IGNzcyA9IGNzc01hdGNoWzFdO1xuICBjb25zdCBqYXZhc2NyaXB0ID0ganNNYXRjaFsxXTtcbiAgXG4gIC8vIENvbWJpbmUgYWxsIGNvZGUgaW50byBhIHNpbmdsZSBIVE1MIGZpbGUgZm9yIHByZXZpZXdcbiAgY29uc3QgZnVsbENvZGUgPSBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9XCJlblwiPlxuPGhlYWQ+XG4gIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICA8dGl0bGU+R2VuZXJhdGVkIEFwcDwvdGl0bGU+XG4gIDxzdHlsZT5cbiR7Y3NzfVxuICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHk+XG4ke2h0bWxcbiAgLnJlcGxhY2UoLzxsaW5rXFxzK3JlbD1bXCInXXN0eWxlc2hlZXRbXCInXVxccytocmVmPVtcIiddc3R5bGVzXFwuY3NzW1wiJ11cXHMqXFwvPz4vZywgJycpXG4gIC5yZXBsYWNlKC88c2NyaXB0XFxzK3NyYz1bXCInXXNjcmlwdFxcLmpzW1wiJ11cXHMqPjxcXC9zY3JpcHQ+L2csICcnKVxuICAucmVwbGFjZSgvPHNjcmlwdFxccytzcmM9W1wiJ11zY3JpcHRcXC5qc1tcIiddXFxzKlxcLz4vZywgJycpXG59XG4gIDxzY3JpcHQ+XG4ke2phdmFzY3JpcHR9XG4gIDwvc2NyaXB0PlxuPC9ib2R5PlxuPC9odG1sPlxuICBgO1xuICBcbiAgcmV0dXJuIHtcbiAgICBodG1sLFxuICAgIGNzcyxcbiAgICBqYXZhc2NyaXB0LFxuICAgIGZ1bGxDb2RlLFxuICAgIGZyYW1ld29yazogJ3ZhbmlsbGEnXG4gIH07XG59XG5cbi8qKlxuICogUGFyc2UgZnJhbWV3b3JrLXNwZWNpZmljIGNvZGUgZnJvbSB0aGUgQUkgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gcGFyc2VGcmFtZXdvcmtDb2RlKHJlc3BvbnNlQ29udGVudDogc3RyaW5nLCBmcmFtZXdvcms6IEZyYW1ld29yayk6IEdlbmVyYXRlZENvZGUge1xuICBsZXQgbWFpbkNvZGUgPSAnJztcbiAgbGV0IGNzcyA9ICcnO1xuICBsZXQgcGFja2FnZUpzb24gPSAnJztcbiAgbGV0IGNvbmZpZ0ZpbGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIFxuICAvLyBFeHRyYWN0IG1haW4gY29tcG9uZW50IGNvZGUgYmFzZWQgb24gZnJhbWV3b3JrXG4gIHN3aXRjaCAoZnJhbWV3b3JrKSB7XG4gICAgY2FzZSAncmVhY3QnOlxuICAgICAgY29uc3QganN4TWF0Y2ggPSByZXNwb25zZUNvbnRlbnQubWF0Y2goL2BgYGpzeFxcbihbXFxzXFxTXSo/KWBgYC8pO1xuICAgICAgaWYgKGpzeE1hdGNoKSBtYWluQ29kZSA9IGpzeE1hdGNoWzFdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndnVlJzpcbiAgICAgIGNvbnN0IHZ1ZU1hdGNoID0gcmVzcG9uc2VDb250ZW50Lm1hdGNoKC9gYGB2dWVcXG4oW1xcc1xcU10qPylgYGAvKTtcbiAgICAgIGlmICh2dWVNYXRjaCkgbWFpbkNvZGUgPSB2dWVNYXRjaFsxXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3N2ZWx0ZSc6XG4gICAgICBjb25zdCBzdmVsdGVNYXRjaCA9IHJlc3BvbnNlQ29udGVudC5tYXRjaCgvYGBgc3ZlbHRlXFxuKFtcXHNcXFNdKj8pYGBgLyk7XG4gICAgICBpZiAoc3ZlbHRlTWF0Y2gpIG1haW5Db2RlID0gc3ZlbHRlTWF0Y2hbMV07XG4gICAgICBicmVhaztcbiAgICBjYXNlICdhc3Rybyc6XG4gICAgICBjb25zdCBhc3Ryb01hdGNoID0gcmVzcG9uc2VDb250ZW50Lm1hdGNoKC9gYGBhc3Ryb1xcbihbXFxzXFxTXSo/KWBgYC8pO1xuICAgICAgaWYgKGFzdHJvTWF0Y2gpIG1haW5Db2RlID0gYXN0cm9NYXRjaFsxXTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIFxuICAvLyBFeHRyYWN0IENTUyBpZiBwcmVzZW50XG4gIGNvbnN0IGNzc01hdGNoID0gcmVzcG9uc2VDb250ZW50Lm1hdGNoKC9gYGBjc3NcXG4oW1xcc1xcU10qPylgYGAvKTtcbiAgaWYgKGNzc01hdGNoKSBjc3MgPSBjc3NNYXRjaFsxXTtcbiAgXG4gIC8vIEV4dHJhY3QgcGFja2FnZS5qc29uXG4gIGNvbnN0IHBhY2thZ2VKc29uTWF0Y2ggPSByZXNwb25zZUNvbnRlbnQubWF0Y2goL2BgYGpzb25cXG4oW1xcc1xcU10qPylgYGAvKTtcbiAgaWYgKHBhY2thZ2VKc29uTWF0Y2gpIHBhY2thZ2VKc29uID0gcGFja2FnZUpzb25NYXRjaFsxXTtcbiAgXG4gIC8vIEV4dHJhY3QgYW55IGNvbmZpZyBmaWxlcyAodXNpbmcgYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gYXZvaWQgUmVnRXhwU3RyaW5nSXRlcmF0b3IpXG4gIGNvbnN0IGNvbmZpZ1JlZ2V4ID0gL2BgYChcXHcrKVxcbihbXFxzXFxTXSo/KWBgYC9nO1xuICBsZXQgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSBjb25maWdSZWdleC5leGVjKHJlc3BvbnNlQ29udGVudCkpICE9PSBudWxsKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbWF0Y2hbMV07XG4gICAgY29uc3QgY29udGVudCA9IG1hdGNoWzJdO1xuICAgIGlmIChleHRlbnNpb24gIT09ICdqc3gnICYmIGV4dGVuc2lvbiAhPT0gJ3Z1ZScgJiYgZXh0ZW5zaW9uICE9PSAnc3ZlbHRlJyAmJiBcbiAgICAgICAgZXh0ZW5zaW9uICE9PSAnYXN0cm8nICYmIGV4dGVuc2lvbiAhPT0gJ2NzcycgJiYgZXh0ZW5zaW9uICE9PSAnanNvbicpIHtcbiAgICAgIGNvbmZpZ0ZpbGVzW2Bjb25maWcuJHtleHRlbnNpb259YF0gPSBjb250ZW50O1xuICAgIH1cbiAgfVxuICBcbiAgLy8gRm9yIHByZXZpZXcsIHdlJ2xsIGNyZWF0ZSBhIHNpbXBsZSBIVE1MIHRoYXQgbG9hZHMgYSBtZXNzYWdlIGFib3V0IHRoZSBmcmFtZXdvcmtcbiAgY29uc3QgZnVsbENvZGUgPSBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9XCJlblwiPlxuPGhlYWQ+XG4gIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICA8dGl0bGU+R2VuZXJhdGVkICR7ZnJhbWV3b3JrLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZnJhbWV3b3JrLnNsaWNlKDEpfSBBcHA8L3RpdGxlPlxuICA8c3R5bGU+XG4gICAgYm9keSB7XG4gICAgICBmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICBtYXJnaW46IDA7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xuICAgICAgY29sb3I6ICMzMzM7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAyMHB4O1xuICAgIH1cbiAgICAuY29udGFpbmVyIHtcbiAgICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIH1cbiAgICBoMSB7XG4gICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgY29sb3I6ICMyNTYzZWI7XG4gICAgfVxuICAgIHByZSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmNWY5O1xuICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIG1heC1oZWlnaHQ6IDMwMHB4O1xuICAgIH1cbiAgICAuZnJhbWV3b3JrLWxvZ28ge1xuICAgICAgZm9udC1zaXplOiA0OHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJmcmFtZXdvcmstbG9nb1wiPlxuICAgICAgJHtnZXRGcmFtZXdvcmtFbW9qaShmcmFtZXdvcmspfVxuICAgIDwvZGl2PlxuICAgIDxoMT4ke2ZyYW1ld29yay5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGZyYW1ld29yay5zbGljZSgxKX0gQXBwbGljYXRpb24gR2VuZXJhdGVkPC9oMT5cbiAgICA8cD5Zb3VyICR7ZnJhbWV3b3JrfSBhcHBsaWNhdGlvbiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZ2VuZXJhdGVkLiBUaGUgY29kZSBjYW4gYmUgdmlld2VkIGluIHRoZSBcIkNvZGVcIiB0YWIuPC9wPlxuICAgIDxwPlRvIHJ1biB0aGlzIGFwcGxpY2F0aW9uLCB5b3Ugd291bGQgdHlwaWNhbGx5OjwvcD5cbiAgICA8b2wgc3R5bGU9XCJ0ZXh0LWFsaWduOiBsZWZ0O1wiPlxuICAgICAgPGxpPkNyZWF0ZSBhIG5ldyAke2ZyYW1ld29ya30gcHJvamVjdDwvbGk+XG4gICAgICA8bGk+Q29weSB0aGUgZ2VuZXJhdGVkIGNvZGUgaW50byB0aGUgYXBwcm9wcmlhdGUgZmlsZXM8L2xpPlxuICAgICAgPGxpPkluc3RhbGwgZGVwZW5kZW5jaWVzIHdpdGggbnBtIG9yIHlhcm48L2xpPlxuICAgICAgPGxpPlN0YXJ0IHRoZSBkZXZlbG9wbWVudCBzZXJ2ZXI8L2xpPlxuICAgIDwvb2w+XG4gICAgPHA+SGVyZSdzIGEgcHJldmlldyBvZiB0aGUgbWFpbiBjb21wb25lbnQ6PC9wPlxuICAgIDxwcmU+JHttYWluQ29kZS5zdWJzdHJpbmcoMCwgMzAwKX0ke21haW5Db2RlLmxlbmd0aCA+IDMwMCA/ICcuLi4nIDogJyd9PC9wcmU+XG4gIDwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPlxuICBgO1xuICBcbiAgcmV0dXJuIHtcbiAgICBodG1sOiBtYWluQ29kZSwgLy8gVXNpbmcgdGhlIG1haW4gY29tcG9uZW50IGNvZGUgYXMgSFRNTFxuICAgIGNzcyxcbiAgICBqYXZhc2NyaXB0OiAnJywgLy8gTm90IHVzZWQgZm9yIGZyYW1ld29yayBjb2RlXG4gICAgZnVsbENvZGUsXG4gICAgZnJhbWV3b3JrLFxuICAgIHBhY2thZ2VKc29uLFxuICAgIGNvbmZpZ0ZpbGVzXG4gIH07XG59XG5cbi8qKlxuICogR2V0IGFuIGVtb2ppIHJlcHJlc2VudGF0aW9uIGZvciBlYWNoIGZyYW1ld29ya1xuICovXG5mdW5jdGlvbiBnZXRGcmFtZXdvcmtFbW9qaShmcmFtZXdvcms6IEZyYW1ld29yayk6IHN0cmluZyB7XG4gIHN3aXRjaCAoZnJhbWV3b3JrKSB7XG4gICAgY2FzZSAncmVhY3QnOlxuICAgICAgcmV0dXJuICfimpvvuI8nO1xuICAgIGNhc2UgJ3Z1ZSc6XG4gICAgICByZXR1cm4gJ/Cfn6InO1xuICAgIGNhc2UgJ3N2ZWx0ZSc6XG4gICAgICByZXR1cm4gJ/CflKUnO1xuICAgIGNhc2UgJ2FzdHJvJzpcbiAgICAgIHJldHVybiAn8J+agCc7XG4gICAgY2FzZSAndmFuaWxsYSc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAn8J+MkCc7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXBsb3kgdGhlIGdlbmVyYXRlZCBjb2RlIHRvIGEgaG9zdGluZyBzZXJ2aWNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lDb2RlKGNvZGU6IEdlbmVyYXRlZENvZGUsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHRyeSB7XG4gICAgLy8gSW4gYSBwcm9kdWN0aW9uIGVudmlyb25tZW50LCB5b3Ugd291bGQgY2FsbCBhIGRlcGxveW1lbnQgc2VydmljZSBBUElcbiAgICAvLyBGb3IgZGVtbyBwdXJwb3Nlcywgd2UnbGwgc2ltdWxhdGUgYSBkZXBsb3ltZW50XG4gICAgXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTtcbiAgICBcbiAgICAvLyBNb2NrIGRlcGxveW1lbnQgVVJMXG4gICAgcmV0dXJuIGBodHRwczovL2V4YW1wbGUtZGVwbG95bWVudC52ZXJjZWwuYXBwLyR7bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX1gO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlcGxveWluZyBjb2RlOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZXBsb3kgY29kZScpO1xuICB9XG59ICJdLCJuYW1lcyI6WyJheGlvcyIsIkNMQVVERV9BUElfS0VZIiwicHJvY2VzcyIsImVudiIsIkNMQVVERV9BUElfVVJMIiwiZ2VuZXJhdGVDb2RlIiwicHJvbXB0Iiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJpc1JlZmluZW1lbnQiLCJpbmNsdWRlcyIsImZyYW1ld29yayIsInByb21wdFRleHQiLCJnZXRGcmFtZXdvcmtTcGVjaWZpY0luc3RydWN0aW9ucyIsInJlcXVlc3RCb2R5IiwibW9kZWwiLCJtYXhfdG9rZW5zIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInR5cGUiLCJ0ZXh0IiwiaGVhZGVycyIsInJlc3BvbnNlIiwicG9zdCIsInN0YXR1cyIsIk9iamVjdCIsImtleXMiLCJkYXRhIiwicmVzcG9uc2VDb250ZW50IiwibGVuZ3RoIiwic3Vic3RyaW5nIiwicGFyc2VWYW5pbGxhQ29kZSIsInBhcnNlRnJhbWV3b3JrQ29kZSIsImF4aW9zRXJyb3IiLCJlcnJvciIsIm1lc3NhZ2UiLCJodG1sTWF0Y2giLCJtYXRjaCIsImNzc01hdGNoIiwianNNYXRjaCIsImh0bWwiLCJjc3MiLCJqYXZhc2NyaXB0IiwiZnVsbENvZGUiLCJyZXBsYWNlIiwibWFpbkNvZGUiLCJwYWNrYWdlSnNvbiIsImNvbmZpZ0ZpbGVzIiwianN4TWF0Y2giLCJ2dWVNYXRjaCIsInN2ZWx0ZU1hdGNoIiwiYXN0cm9NYXRjaCIsInBhY2thZ2VKc29uTWF0Y2giLCJjb25maWdSZWdleCIsImV4ZWMiLCJleHRlbnNpb24iLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZ2V0RnJhbWV3b3JrRW1vamkiLCJkZXBsb3lDb2RlIiwiY29kZSIsIm5hbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0b0xvd2VyQ2FzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/services/aiService.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CTonnie%20Mungai%5CDocuments%5CSmartbotzcopy%5CSmartbotz&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();